{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 62,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd \n",
    "import numpy as np "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 186,
   "metadata": {},
   "outputs": [],
   "source": [
    "# load the data into dataframes\n",
    "data_search_trend_US = pd.read_csv(\"/Users/chengchen/Documents/GitHub/Analyzing-COVID19-Search-Trends-and-Hospitalization/2020_US_weekly_symptoms_dataset.csv\")\n",
    "data_hospitalization = pd.read_csv(\"/Users/chengchen/Documents/GitHub/Analyzing-COVID19-Search-Trends-and-Hospitalization/hospitalization_dataset.csv\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 187,
   "metadata": {},
   "outputs": [],
   "source": [
    "#remove symptoms that have no search data\n",
    "data_search_trend_US.dropna(thresh=0, axis=1)\n",
    "del data_search_trend_US['sub_region_2']\n",
    "del data_search_trend_US['sub_region_2_code']\n",
    "data_search_trend_US = data_search_trend_US.fillna(0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 188,
   "metadata": {},
   "outputs": [],
   "source": [
    "#get the total number of regions \n",
    "regions = {}\n",
    "for index,content in data_search_trend_US.iterrows():\n",
    "    if content['sub_region_1_code'] not in regions:\n",
    "        regions.update({content['sub_region_1_code']: 1})   "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 189,
   "metadata": {},
   "outputs": [],
   "source": [
    "#get the hospitalization in the USA\n",
    "data_hospitalization_US = data_hospitalization[data_hospitalization['open_covid_region_code'].isin(list(regions.keys()))]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 190,
   "metadata": {},
   "outputs": [],
   "source": [
    "#remove redundant features\n",
    "data_hospitalization_US = data_hospitalization_US[['open_covid_region_code','region_name','date','hospitalized_cumulative','hospitalized_new']]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 191,
   "metadata": {},
   "outputs": [],
   "source": [
    "#remove regions that have too many zero entries\n",
    "data_hospitalization_US = data_hospitalization_US[(data_hospitalization_US.T != 0).any()].reset_index()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 192,
   "metadata": {},
   "outputs": [],
   "source": [
    "#set index to date index\n",
    "data_hospitalization_US['Date'] = pd.to_datetime(data_hospitalization_US['date'])\n",
    "data_hospitalization_US = data_hospitalization_US.set_index('Date')\n",
    "data_hospitalization_US = data_hospitalization_US.drop(['date'], axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 193,
   "metadata": {},
   "outputs": [],
   "source": [
    "# add a new column \n",
    "data_search_trend_US.loc[:,'hospitalized_new'] = 0"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 196,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Unnamed: 0</th>\n",
       "      <th>open_covid_region_code</th>\n",
       "      <th>country_region_code</th>\n",
       "      <th>country_region</th>\n",
       "      <th>sub_region_1</th>\n",
       "      <th>sub_region_1_code</th>\n",
       "      <th>date</th>\n",
       "      <th>symptom:Abdominal obesity</th>\n",
       "      <th>symptom:Abdominal pain</th>\n",
       "      <th>symptom:Acne</th>\n",
       "      <th>...</th>\n",
       "      <th>symptom:Water retention</th>\n",
       "      <th>symptom:Weakness</th>\n",
       "      <th>symptom:Weight gain</th>\n",
       "      <th>symptom:Wheeze</th>\n",
       "      <th>symptom:Xeroderma</th>\n",
       "      <th>symptom:Xerostomia</th>\n",
       "      <th>symptom:Yawn</th>\n",
       "      <th>symptom:hyperhidrosis</th>\n",
       "      <th>symptom:pancreatitis</th>\n",
       "      <th>hospitalized_new</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>2020-01-06</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>14.28</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>2020-01-13</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>16.26</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>2020-01-20</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>17.48</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>3</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>2020-01-27</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>10.93</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>4</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>2020-02-03</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>18.93</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>603</th>\n",
       "      <td>603</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>2020-08-24</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>3.87</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>604</th>\n",
       "      <td>604</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>2020-08-31</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>3.63</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>605</th>\n",
       "      <td>605</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>2020-09-07</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>4.02</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>606</th>\n",
       "      <td>606</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>2020-09-14</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>4.37</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>607</th>\n",
       "      <td>607</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>2020-09-21</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>4.76</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>608 rows × 430 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     Unnamed: 0 open_covid_region_code country_region_code country_region  \\\n",
       "0             0                  US-AK                  US  United States   \n",
       "1             1                  US-AK                  US  United States   \n",
       "2             2                  US-AK                  US  United States   \n",
       "3             3                  US-AK                  US  United States   \n",
       "4             4                  US-AK                  US  United States   \n",
       "..          ...                    ...                 ...            ...   \n",
       "603         603                  US-WY                  US  United States   \n",
       "604         604                  US-WY                  US  United States   \n",
       "605         605                  US-WY                  US  United States   \n",
       "606         606                  US-WY                  US  United States   \n",
       "607         607                  US-WY                  US  United States   \n",
       "\n",
       "    sub_region_1 sub_region_1_code        date  symptom:Abdominal obesity  \\\n",
       "0         Alaska             US-AK  2020-01-06                        0.0   \n",
       "1         Alaska             US-AK  2020-01-13                        0.0   \n",
       "2         Alaska             US-AK  2020-01-20                        0.0   \n",
       "3         Alaska             US-AK  2020-01-27                        0.0   \n",
       "4         Alaska             US-AK  2020-02-03                        0.0   \n",
       "..           ...               ...         ...                        ...   \n",
       "603      Wyoming             US-WY  2020-08-24                        0.0   \n",
       "604      Wyoming             US-WY  2020-08-31                        0.0   \n",
       "605      Wyoming             US-WY  2020-09-07                        0.0   \n",
       "606      Wyoming             US-WY  2020-09-14                        0.0   \n",
       "607      Wyoming             US-WY  2020-09-21                        0.0   \n",
       "\n",
       "     symptom:Abdominal pain  symptom:Acne  ...  symptom:Water retention  \\\n",
       "0                       0.0           0.0  ...                      0.0   \n",
       "1                       0.0           0.0  ...                      0.0   \n",
       "2                       0.0           0.0  ...                      0.0   \n",
       "3                       0.0           0.0  ...                      0.0   \n",
       "4                       0.0           0.0  ...                      0.0   \n",
       "..                      ...           ...  ...                      ...   \n",
       "603                     0.0           0.0  ...                      0.0   \n",
       "604                     0.0           0.0  ...                      0.0   \n",
       "605                     0.0           0.0  ...                      0.0   \n",
       "606                     0.0           0.0  ...                      0.0   \n",
       "607                     0.0           0.0  ...                      0.0   \n",
       "\n",
       "     symptom:Weakness  symptom:Weight gain  symptom:Wheeze  symptom:Xeroderma  \\\n",
       "0                 0.0                  0.0             0.0                0.0   \n",
       "1                 0.0                  0.0             0.0                0.0   \n",
       "2                 0.0                  0.0             0.0                0.0   \n",
       "3                 0.0                  0.0             0.0                0.0   \n",
       "4                 0.0                  0.0             0.0                0.0   \n",
       "..                ...                  ...             ...                ...   \n",
       "603               0.0                  0.0             0.0                0.0   \n",
       "604               0.0                  0.0             0.0                0.0   \n",
       "605               0.0                  0.0             0.0                0.0   \n",
       "606               0.0                  0.0             0.0                0.0   \n",
       "607               0.0                  0.0             0.0                0.0   \n",
       "\n",
       "     symptom:Xerostomia  symptom:Yawn  symptom:hyperhidrosis  \\\n",
       "0                   0.0         14.28                    0.0   \n",
       "1                   0.0         16.26                    0.0   \n",
       "2                   0.0         17.48                    0.0   \n",
       "3                   0.0         10.93                    0.0   \n",
       "4                   0.0         18.93                    0.0   \n",
       "..                  ...           ...                    ...   \n",
       "603                 0.0          3.87                    0.0   \n",
       "604                 0.0          3.63                    0.0   \n",
       "605                 0.0          4.02                    0.0   \n",
       "606                 0.0          4.37                    0.0   \n",
       "607                 0.0          4.76                    0.0   \n",
       "\n",
       "     symptom:pancreatitis  hospitalized_new  \n",
       "0                     0.0                 0  \n",
       "1                     0.0                 0  \n",
       "2                     0.0                 0  \n",
       "3                     0.0                 0  \n",
       "4                     0.0                 0  \n",
       "..                    ...               ...  \n",
       "603                   0.0                 0  \n",
       "604                   0.0                 0  \n",
       "605                   0.0                 0  \n",
       "606                   0.0                 0  \n",
       "607                   0.0                 0  \n",
       "\n",
       "[608 rows x 430 columns]"
      ]
     },
     "execution_count": 196,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data_search_trend_US"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 199,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Int64Index([], dtype='int64')\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/opt/anaconda3/lib/python3.7/site-packages/pandas/core/ops/array_ops.py:253: FutureWarning: elementwise comparison failed; returning scalar instead, but in the future will perform elementwise comparison\n",
      "  res_values = method(rvalues)\n"
     ]
    },
    {
     "ename": "TypeError",
     "evalue": "'float' object is not subscriptable",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-199-937cbdc7c02c>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      5\u001b[0m         \u001b[0mind\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mdata_search_trend_US\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mindex\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdata_search_trend_US\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'date'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0mindex\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m&\u001b[0m \u001b[0mdata_search_trend_US\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'open_covid_region_code'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m==\u001b[0m\u001b[0mregion\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      6\u001b[0m         \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mind\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 7\u001b[0;31m         \u001b[0mdata_search_trend_US\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mind\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m'hospitalized_new'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mvalues\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'hospitalized_new'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      8\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mTypeError\u001b[0m: 'float' object is not subscriptable"
     ]
    }
   ],
   "source": [
    "for region in regions: \n",
    "    data_to_append = data_hospitalization_US[data_hospitalization_US['open_covid_region_code']==region]['hospitalized_new']\n",
    "    data_to_append = data_to_append.resample('W', label='left', loffset=pd.DateOffset(days=1)).sum()\n",
    "    for index,values in data_to_append.iteritems():\n",
    "        ind = data_search_trend_US.index[(data_search_trend_US['date'] == index) & data_search_trend_US['open_covid_region_code']==region]\n",
    "        data_search_trend_US.loc[ind,'hospitalized_new'] = values['hospitalized_new']\n",
    "    "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 167,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Unnamed: 0</th>\n",
       "      <th>open_covid_region_code</th>\n",
       "      <th>country_region_code</th>\n",
       "      <th>country_region</th>\n",
       "      <th>sub_region_1</th>\n",
       "      <th>sub_region_1_code</th>\n",
       "      <th>symptom:Abdominal obesity</th>\n",
       "      <th>symptom:Abdominal pain</th>\n",
       "      <th>symptom:Acne</th>\n",
       "      <th>symptom:Actinic keratosis</th>\n",
       "      <th>...</th>\n",
       "      <th>symptom:Wart</th>\n",
       "      <th>symptom:Water retention</th>\n",
       "      <th>symptom:Weakness</th>\n",
       "      <th>symptom:Weight gain</th>\n",
       "      <th>symptom:Wheeze</th>\n",
       "      <th>symptom:Xeroderma</th>\n",
       "      <th>symptom:Xerostomia</th>\n",
       "      <th>symptom:Yawn</th>\n",
       "      <th>symptom:hyperhidrosis</th>\n",
       "      <th>symptom:pancreatitis</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Date</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2020-01-06</th>\n",
       "      <td>0</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>14.28</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2020-01-13</th>\n",
       "      <td>1</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>16.26</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2020-01-20</th>\n",
       "      <td>2</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>17.48</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2020-01-27</th>\n",
       "      <td>3</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>10.93</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2020-02-03</th>\n",
       "      <td>4</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Alaska</td>\n",
       "      <td>US-AK</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>18.93</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2020-08-24</th>\n",
       "      <td>603</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>3.87</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2020-08-31</th>\n",
       "      <td>604</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>3.63</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2020-09-07</th>\n",
       "      <td>605</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>4.02</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2020-09-14</th>\n",
       "      <td>606</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>4.37</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2020-09-21</th>\n",
       "      <td>607</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>US</td>\n",
       "      <td>United States</td>\n",
       "      <td>Wyoming</td>\n",
       "      <td>US-WY</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>4.76</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>608 rows × 428 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "            Unnamed: 0 open_covid_region_code country_region_code  \\\n",
       "Date                                                                \n",
       "2020-01-06           0                  US-AK                  US   \n",
       "2020-01-13           1                  US-AK                  US   \n",
       "2020-01-20           2                  US-AK                  US   \n",
       "2020-01-27           3                  US-AK                  US   \n",
       "2020-02-03           4                  US-AK                  US   \n",
       "...                ...                    ...                 ...   \n",
       "2020-08-24         603                  US-WY                  US   \n",
       "2020-08-31         604                  US-WY                  US   \n",
       "2020-09-07         605                  US-WY                  US   \n",
       "2020-09-14         606                  US-WY                  US   \n",
       "2020-09-21         607                  US-WY                  US   \n",
       "\n",
       "           country_region sub_region_1 sub_region_1_code  \\\n",
       "Date                                                       \n",
       "2020-01-06  United States       Alaska             US-AK   \n",
       "2020-01-13  United States       Alaska             US-AK   \n",
       "2020-01-20  United States       Alaska             US-AK   \n",
       "2020-01-27  United States       Alaska             US-AK   \n",
       "2020-02-03  United States       Alaska             US-AK   \n",
       "...                   ...          ...               ...   \n",
       "2020-08-24  United States      Wyoming             US-WY   \n",
       "2020-08-31  United States      Wyoming             US-WY   \n",
       "2020-09-07  United States      Wyoming             US-WY   \n",
       "2020-09-14  United States      Wyoming             US-WY   \n",
       "2020-09-21  United States      Wyoming             US-WY   \n",
       "\n",
       "            symptom:Abdominal obesity  symptom:Abdominal pain  symptom:Acne  \\\n",
       "Date                                                                          \n",
       "2020-01-06                        0.0                     0.0           0.0   \n",
       "2020-01-13                        0.0                     0.0           0.0   \n",
       "2020-01-20                        0.0                     0.0           0.0   \n",
       "2020-01-27                        0.0                     0.0           0.0   \n",
       "2020-02-03                        0.0                     0.0           0.0   \n",
       "...                               ...                     ...           ...   \n",
       "2020-08-24                        0.0                     0.0           0.0   \n",
       "2020-08-31                        0.0                     0.0           0.0   \n",
       "2020-09-07                        0.0                     0.0           0.0   \n",
       "2020-09-14                        0.0                     0.0           0.0   \n",
       "2020-09-21                        0.0                     0.0           0.0   \n",
       "\n",
       "            symptom:Actinic keratosis  ...  symptom:Wart  \\\n",
       "Date                                   ...                 \n",
       "2020-01-06                        0.0  ...           0.0   \n",
       "2020-01-13                        0.0  ...           0.0   \n",
       "2020-01-20                        0.0  ...           0.0   \n",
       "2020-01-27                        0.0  ...           0.0   \n",
       "2020-02-03                        0.0  ...           0.0   \n",
       "...                               ...  ...           ...   \n",
       "2020-08-24                        0.0  ...           0.0   \n",
       "2020-08-31                        0.0  ...           0.0   \n",
       "2020-09-07                        0.0  ...           0.0   \n",
       "2020-09-14                        0.0  ...           0.0   \n",
       "2020-09-21                        0.0  ...           0.0   \n",
       "\n",
       "            symptom:Water retention  symptom:Weakness  symptom:Weight gain  \\\n",
       "Date                                                                         \n",
       "2020-01-06                      0.0               0.0                  0.0   \n",
       "2020-01-13                      0.0               0.0                  0.0   \n",
       "2020-01-20                      0.0               0.0                  0.0   \n",
       "2020-01-27                      0.0               0.0                  0.0   \n",
       "2020-02-03                      0.0               0.0                  0.0   \n",
       "...                             ...               ...                  ...   \n",
       "2020-08-24                      0.0               0.0                  0.0   \n",
       "2020-08-31                      0.0               0.0                  0.0   \n",
       "2020-09-07                      0.0               0.0                  0.0   \n",
       "2020-09-14                      0.0               0.0                  0.0   \n",
       "2020-09-21                      0.0               0.0                  0.0   \n",
       "\n",
       "            symptom:Wheeze  symptom:Xeroderma  symptom:Xerostomia  \\\n",
       "Date                                                                \n",
       "2020-01-06             0.0                0.0                 0.0   \n",
       "2020-01-13             0.0                0.0                 0.0   \n",
       "2020-01-20             0.0                0.0                 0.0   \n",
       "2020-01-27             0.0                0.0                 0.0   \n",
       "2020-02-03             0.0                0.0                 0.0   \n",
       "...                    ...                ...                 ...   \n",
       "2020-08-24             0.0                0.0                 0.0   \n",
       "2020-08-31             0.0                0.0                 0.0   \n",
       "2020-09-07             0.0                0.0                 0.0   \n",
       "2020-09-14             0.0                0.0                 0.0   \n",
       "2020-09-21             0.0                0.0                 0.0   \n",
       "\n",
       "            symptom:Yawn  symptom:hyperhidrosis  symptom:pancreatitis  \n",
       "Date                                                                   \n",
       "2020-01-06         14.28                    0.0                   0.0  \n",
       "2020-01-13         16.26                    0.0                   0.0  \n",
       "2020-01-20         17.48                    0.0                   0.0  \n",
       "2020-01-27         10.93                    0.0                   0.0  \n",
       "2020-02-03         18.93                    0.0                   0.0  \n",
       "...                  ...                    ...                   ...  \n",
       "2020-08-24          3.87                    0.0                   0.0  \n",
       "2020-08-31          3.63                    0.0                   0.0  \n",
       "2020-09-07          4.02                    0.0                   0.0  \n",
       "2020-09-14          4.37                    0.0                   0.0  \n",
       "2020-09-21          4.76                    0.0                   0.0  \n",
       "\n",
       "[608 rows x 428 columns]"
      ]
     },
     "execution_count": 167,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data_search_trend_US\n"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.6"
  },
  "toc": {
   "base_numbering": 1,
   "nav_menu": {},
   "number_sections": true,
   "sideBar": true,
   "skip_h1_title": false,
   "title_cell": "Table of Contents",
   "title_sidebar": "Contents",
   "toc_cell": false,
   "toc_position": {
    "height": "calc(100% - 180px)",
    "left": "10px",
    "top": "150px",
    "width": "307.2px"
   },
   "toc_section_display": true,
   "toc_window_display": false
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
